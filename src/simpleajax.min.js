/** SimpleAjax v2.0.0 - MIT license - https://github.com/freelancephp/simpleAjax */
!function(window){"use strict";var document=window.document,ajaxSettings={url:"",type:"GET",dataType:"text",async:!0,cache:!0,data:null,contentType:"application/x-www-form-urlencoded",success:null,error:null,complete:null,accepts:{text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"}},createOptions=function(e){var t,a={};for(t in ajaxSettings)a[t]="undefined"==typeof e[t]?ajaxSettings[t]:e[t];return a},param=function(e){var t,a=[];for(t in e)a.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return a.join("&")},addToQueryString=function(e,t){var a=param(t),n=e+(e.indexOf("?")>-1?"&":"?")+a;return n},trim=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},parseJSON=function(data){return"string"==typeof data&&data?eval("("+trim(data)+")"):null},ajax=function(e){var t=new XMLHttpRequest,a=createOptions(e),n=a.url,r=a.data,o=function(){var e,n=t.status;4===t.readyState&&(n>=200&&300>n||304===n?("xml"===a.dataType?e=t.responseXML:(e=t.responseText,"json"===a.dataType&&(e=parseJSON(e))),isFunction(a.success)&&a.success.call(a,e,n,t)):isFunction(a.error)&&a.error.call(a,t,n),isFunction(a.complete)&&a.complete.call(a,t,n))};return a.cache||(n=addToQueryString(n,{noAjaxCache:(new Date).getTime()})),r&&("GET"===a.type?(n=addToQueryString(n,r),r=null):r=param(r)),t.open(a.type,n,a.async),t.setRequestHeader("Content-type",a.contentType),a.dataType&&a.accepts[a.dataType]&&t.setRequestHeader("Accept",a.accepts[a.dataType]),a.async?(t.onreadystatechange=o,t.send(r)):(t.send(r),o()),t},ajaxCallHelper=function(e,t,a,n){return isFunction(a)&&(n=a,a=null),ajax({url:e,type:t,data:a,success:n})},ajaxGet=function(e,t,a){return ajaxCallHelper(e,"GET",t,a)},ajaxPost=function(e,t,a){return ajaxCallHelper(e,"POST",t,a)},ajaxLoad=function(e,t,a,n){return simpleAjax({url:t,dataType:"html",type:a?"POST":"GET",data:a||null,complete:n||null,success:function(t){setHtml(e,t)}})},setHtml=function(e,t){"string"==typeof e&&(e=document.getElementById(e));try{e.innerHTML=t}catch(a){var n,r,o=document.createElement("div");for(o.innerHTML=t;e.firstChild;)e.removeChild(e.firstChild);for(n=0,r=o.childNodes.length;r>n;n++)e.appendChild(o.childNodes[n])}return e},simpleAjax=ajax;simpleAjax.get=ajaxGet,simpleAjax.post=ajaxPost,simpleAjax.load=ajaxLoad,simpleAjax.parseJSON=parseJSON,simpleAjax.setHtml=setHtml,window.simpleAjax=simpleAjax}(window);
