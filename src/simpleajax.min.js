/** SimpleAjax v2.0.0 - MIT license - https://github.com/freelancephp/simpleAjax */
!function(window){"use strict";var document=window.document,ajaxSettings={url:"",type:"GET",dataType:"text",async:!0,cache:!0,data:null,contentType:"application/x-www-form-urlencoded",success:null,error:null,complete:null,accepts:{text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"}},call=function(e,t,n,a){return isFunction(n)&&(a=n,n=null),simpleAjax({url:e,type:t,data:n,success:a})},parseJSON=function(data){return"string"==typeof data&&data?eval("("+trim(data)+")"):null},createOptions=function(e){var t,n={};for(t in ajaxSettings)n[t]="undefined"==typeof e[t]?ajaxSettings[t]:e[t];return n},param=function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},addToQueryString=function(e,t){var n=param(t),a=e+(e.indexOf("?")>-1?"&":"?")+n;return a},trim=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},simpleAjax=function(e){var t=new XMLHttpRequest,n=createOptions(e),a=n.url,r=n.data,c=function(){var e,a=t.status;4===t.readyState&&(a>=200&&300>a||304===a?("xml"===n.dataType?e=t.responseXML:(e=t.responseText,"json"===n.dataType&&(e=parseJSON(e))),isFunction(n.success)&&n.success.call(n,e,a,t)):isFunction(n.error)&&n.error.call(n,t,a),isFunction(n.complete)&&n.complete.call(n,t,a))};return n.cache||(a=addToQueryString(a,{noAjaxCache:(new Date).getTime()})),r&&("GET"===n.type?(a=addToQueryString(a,r),r=null):r=param(r)),t.open(n.type,a,n.async),t.setRequestHeader("Content-type",n.contentType),n.dataType&&n.accepts[n.dataType]&&t.setRequestHeader("Accept",n.accepts[n.dataType]),n.async?(t.onreadystatechange=c,t.send(r)):(t.send(r),c()),t};simpleAjax.get=function(e,t,n){return call(e,"GET",t,n)},simpleAjax.post=function(e,t,n){return call(e,"POST",t,n)},simpleAjax.load=function(e,t,n,a){return"string"==typeof e&&(e=document.getElementById(e)),simpleAjax({url:t,type:n?"POST":"GET",data:n||null,complete:a||null,success:function(t){try{e.innerHTML=t}catch(n){var a,r,c=document.createElement("div");for(c.innerHTML=t;e.firstChild;)e.removeChild(e.firstChild);for(a=0,r=c.childNodes.length;r>a;a++)e.appendChild(c.childNodes[a])}}})},window.simpleAjax=simpleAjax}(window);
